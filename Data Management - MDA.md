# Data Management - MDA 

[Gainsight Study Table Of Contents](README.md)

## Documentation 
[Gainsight Data Management](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Managing_Data_in_Gainsight/Gainsight_Data_Management)
[Gainsight Objects](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Objects/Gainsight_Objects)
[Gainsight Company Objects](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Objects/Gainsight_Company_Object)
[Data Operations](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Managing_Data_in_Gainsight/Data_Operations)

[Gainsight Matrix Data Architecture Overview](https://support.gainsight.com/Gainsight_NXT/02Data_Management/About/Gainsight_Matrix_Data_Architecture_Overview)
[MDA Joins](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Managing_Data_in_Gainsight/MDA_Joins)
[Basic Data Operations in Gainsight](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Managing_Data_in_Gainsight/Basic_Operations_in_Gainsight_Data_Management)
[Advanced Operations in Gainsight Data Management](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Managing_Data_in_Gainsight/Advanced_Operations_in_Gainsight_Data_Management#Create_Calculated_Fields_on_Gainsight_Objects)
[Dropdown Lists](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Managing_Data_in_Gainsight/Dropdown_List)

## MDA Introduction 
- Create and manage custom objects
- Create validations and constraints on data being loaded into objects to maintain data quality 
- Review dependencies between objects to see what data relies on which inputs and where different information is being used across the org. 
- View the raw data records loaded to an MDA object, including record counts, filters, and selection of display fields.  Also, within this view, you can select records for deletion.

The goal of the MDA is to integration and transform data into actionable insights. 

![[UKhkeekrVTceN4vV_jqM7MaQBKIy89_tl.jpg]]



**From the Documentation** 

---

![[CUFrF5YN4rHgOG0x_EHQbzGx4B-2vEmN0.png]]
Gainsight's data connectors allow you to integrate data from third party systems, including SalesForce, Microsoft Dynamics, and others. 

MDA data storage is a distributed system that uses four databases: 

- AWS Redshift for bulk data storage in MDA
- Mongo DB to store schema and metadata for Redshift tables
- Postgres to store and process transactional data used in Scorecards 2.0, Programs, and other Gainsight applications
- Redis to cache session data
  
Object Data is processed using AWS (Amazon Web Services), APIs, and various backend jobs.

--- 

## Terms

**MDA (Matrix Data Architecture)** Gainsight's proprietary backend which is capable of mixing and managing data from multiple sources inside of Gainsight. 

**Object** a table that holds data.  

**Data Type** what kind of data is being stored, i.e. number, date, text, etc. 

**Object Type** standard, system and custom. Custom object types determine who can update the org schema. 

**MDA Join (Lookup)** Links objects using a common data field.

**Mapping** Reporting construct to show records with hyperlinks to navigate to 360. 

**Field Types** Standard, system and custom that determine editability of the schema and data. 

**Dropdown List** Field data type containing a picklist 

**Unique Identifier** A record that maps to an important objects, such as Account or User. 


## Components of the MDA

The **MDA** is designed to integrate data from a variety of systems and turn it into operationally valuable knowledge. Inputs include financial data, support tickets from Zendesk and CRM data. The MDA powers various features inside Gainsight including the Rules Engine, Reports, CTA and C/R 360. 

**Custom Objects** 
Any objects created by the admin.  These objects are fully customizable and you have full control to edit and modify them. 

There are multiple methods available for loading data to custom objects including, manual loads of small files, connectors, and the Rules Engine.

**Standard Objects**
Standard objects are created by Gainsight and include Company, User, Person, Relationship, and Relationship Type. 

A Standard Object can be edited to add additional fields; however, you cannot perform edit operations on stock fields within Standard Objects.

**System Objects** 
System Objects are generated by Gainsight. System objects include Scorecard Fact tables as well as Activity Timeline. 

This data is loaded by the Gainsight app and cannot be edited in any way.


## Standard Objects

Include the company, user and person objects. Standard objects allow users to take actions directly from and on custom data inside of Gainsight. 

**Example 1:** 
Use the **Company** object to store individual customer records. Company data is used as a base record to tie back Calls To Action (CTAs), Usage Data, Timeline, and Scorecards.

**Example 2:** 
Use the **User** object to control access to Gainsight from outside the application. You can allow non-Gainsight users to see CTA-related information or to see C360/R360 layouts.

### Person Objects 

Comprised of three sub-objects, **Person**, **Company Person**, and **Relationship Person**. This differentiation allows more granularity in the way data is collected and tracked. 

For example, the Person object for Alicia would contain three attribute categories:

-   **Personal attributes**, such as her Name, Email, Mobile phone, Twitter profile, LinkedIn profile, and so forth
-   **Attributes related to her work at Acme**, including Company name, Title/Designation, Office phone, Manager, etc.
-   **Attributes associated with Alicia's Relationships at Acme**, such as a project implementation or business unit. In this scenario, the attributes are like Role, etc.

![[HMq8ZqfZbeeCHg-c_3dqCUUFHzJZgPw4W.jpg]]

## Working in the MDA 

**MDA Joins** To link records in the MDA, we create a Join between two tables. In this example, we have created a join in the Company object to the User object.

Lookup fields are created similarly to how they're created in Salesforce. However, joins can be defined as left joins, right joins, inner joins or outer joins 

![[SM-ZfHEJdzSXoJb2_wci3xpnUIRE7zqju.jpg]]


## MDA Interface 

**Navigation** Administration -> Customer Data -> Data Management 

![[tw4MAfovXW7sb_I4__J3_p4gd_JjrTyT1 1.jpg]]

Clicking into a MDA Object will give you a list of its fields, showing the following information:

-   Field Name and Description
-   Data Type:  What kind of data can this field hold?
-   Field Type: Is this a System, Standard, or Custom field?
-   Mapping: Is this field an identifier for Account, Contact, etc.?
-   Lookup: Does this field lookup to another MDA object?
-   Formula fields: Setup formulas on numeric fields (must have two or more numeric fields)

### MDA Object Types

Objects come in two broad types. Which type of object to use depends on the volume of data involved.

-   **High Volume:** This type of Object can store more than one Million records. This object type is recommended for storing huge volumes of data, like usage data.
-   **Low Volume:** This type of object can store up to 5000 records. These objects are used to store low volume data that needs to be edited frequently. There are advantages to using Low Volume objects such as the ability to edit data in the object from more locations in Gainsight, and the ability to load data into the object using Custom Object APIs.

[Gainsight Objects](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Objects/Gainsight_Objects)

![[Pasted image 20221011114523.png]]

> [!Important]
> An important note is that once data is loaded to an object the field type cannot be changed.  All records would need to be deleted from the table to change the data type.

By clicking into an object in Data Management and then clicking the Data tab next to fields, a list of all records under that object will be displayed. **This is where records can be deleted** 
- Records displayed here can be filtered. 
- The fields displayed can be edited
- selecting records will provide an option to delete 

![[Pasted image 20221011114906.png]]

>[! Important]
>Gainsight Admins have the option to delete records in bulk on the Data Operations tab. The option to delete in bulk is a powerful tool to clear out old data, but it is also possible to accidentally delete data that's still in use. The specifics of how to use these tools is covered more in our instructor-lead Data Management course. But you should be aware of the types of permanent changes that can be made here.

### Dependencies 

The Dependencies tab is located immediately to the right of the Data tab shown above. 

>The Dependencies tab allows you to view where an MDA object has been sourced throughout your Gainsight configuration.  This feature identifies any Rules, Reports, Relationships, MDA Joins, and S3 Ingest Jobs where the object is sourced, as well as many other Gainsight areas like email templates or power lists.
>
Each section of the tab can be expanded to show the full list of identified dependencies. You can click the name of each dependency to navigate to the asset in a separate tab.
>
 Changes can be made to an object while these dependencies exist, but this helps give visibility to potential issues that could arise from changing the object.



### Constraints: Default Value and Update Keys

These add some guard rails around default values and how relationships are established between records. They don't really function as validation rules as they would in Salesforce. 

>The constraints interface allows an administrator to define default values and Update keys on an MDA object.  
>
If a **default value** is configured, that value will be loaded when the field is blank.
>
**Update Keys** are used when an update or upsert operation is performed during data load.  Think of these keys as the unique identifiers on the table.  In a simple use case such as Zendesk tickets, the update key is the case ID or case number.  However, in a daily usage data file, the update keys may include account id, date as well as user id.  If these keys are not configured correctly, duplicate records may be loaded to the object, so it’s important to ensure accuracy here before loading data files.


### Calculated Fields

>Calculated fields can be created using Numeric, Currency, and Percentage fields. Fields and Operators can be inserted in the Formula field via mouse click only.
>
 You can make calculated fields on the Fields tab by expanding the Advanced Options for the relevant field and clicking Create Formula.
>
 This opens a formula builder where basic formulas can be created including summing or averaging two fields a well as some more advanced level formula building which includes arithmetic operations and case statements.

![[Rgf9hxZyGu_HjbYP_YGATpZ9An8wORmXo.jpg]]

[Creating Calculating Fields In Gainsight Data Management](https://support.gainsight.com/Gainsight_NXT/02Data_Management/Managing_Data_in_Gainsight/Advanced_Operations_in_Gainsight_Data_Management#Create_Calculated_Fields_on_Gainsight_Objects)


## Loading Data Into an MDA Object 

Data can be loaded into Gainsight either via the API or manually as well as through several connectors that have been built with other systems. 

Only fields that are mapped will be loaded from the CSV file. 


### Data Loading Best Practices

Now let’s look at some best practice recommendations for data loading. 

1. To get started, we recommend a simple CSV file with only a few rows of data.   By minimizing the rows of data you can focus on the format rather than the content.  
2. We also recommend loading the first few files manually to ensure they load properly and as expected.
3. Once you’ve generated reports to ensure data is loading properly, schedule the ingest job to run based on when the data will be available in S3. Building reports is covered in the Admin: Reports and Dashboards course.


>Key Identifiers ensure that you appropriately aggregate/map information. The image here shows four fields: account_id_external, comments, contact_id, and full_name.
>
What happens if only the first two fields are mapped? Only account_id_external and comments will be loaded. 
>
Now, what happens if we map account, comments and contact_id?  We will get a record for all users at each account that complete the survey.  So, what about Survey date?  Is it important?
>
Think about this some more. When we begin to load more files and a user takes the survey again and maybe changes their response, what happens to the record?  
>
This is where the update keys feature becomes critical.  When additional files are loaded and the operation is set to update or upsert, records will be updated based on the update key criteria.
>
 Based on our discussion here, you can see how it becomes critical to assess if survey date should be an update key.   In the scenario when a user submits a new survey response, if only Account and Contact IDs are selected, then a new survey record will simply update the existing record with their survey response and survey date.  However, if survey date is also selected as an update key, then a new record would be added for the user.  To determine the correct answer, you need to understand how the data will be used and if it’s important to have the historic survey record or if it’s only important to have the current result.


UIDs are used across all objects not only to link records across Gainsight via relationships, but critically to relate those records back to corresponding records in the system of origin for that data.

![[SKdKQBzeo5ZzgLCg_6L_luzHhuTDC_VTs.jpg]]


## Quiz 
1. **Q** You can create an MDA object:
	1. Manually
	2. From a CSV file
	3. With API
	4. **A** A and B
	5. All of the above
2. **Q** Which of the following statements is **false**?
	1. **A**You can’t load data directly via API
	2.  You can load data via Rules Engine
	3. You can transfer data in and out of S3 buckets
	4. Key Identifiers ensure that information is appropriately aggregated/mapped
3. **Q**  You’re tasked with creating a new object that can store at least 3000 records. Admins will need to be able to edit the object’s data frequently, as well as load new data to the object using Custom Object APIs. Which Object Type should you select for the new object?
	1. **A** Low volume 
	2. High volume
4. **Q** What action can you NOT take from an object’s Data Operations tab?
	1. Filter records based on selected criteria
	2. Delete records
	3. **A** Build reports based off of objects
	4. Configure the displayed fields for the records list
5. **Q** A field’s data type can be changed after an object is created.
	1. **A** False 

## Exercises 
![[Data_Management_Admin_Exercise.pdf]]



## Quiz
1. **Q** Data Management refers to the application / tools we use to create and manage data.
	1. **A** True
2. **Q** MDA allows you to? 
	1. Create and modify objects, fields and data types
	2. Setup constraints: Update Key or Default Values
	3. Check MDA object dependencies
	4. View the data, record count and delete existing data
	5. **A** All of the above
3. **Q** Which of the following statements is false?
	1. MDA is fully integrated into Gainsight UI without impacting storage
	2. MDA is named so because we have multiple data stores and tools
	3. **A** Gainsight uses a single data store
	4. MDA uses system tables that house data
4. MDA powers what? 
	1. Reports
	2. Rules Engine
	3. CTAs 
	4. **A** All of the above 
5. Which of the following statements is true?
	1. **A** In System Objects, User can’t add or modify the fields via data management
	2. Standard Objects are created by the end-user, through Data Management
	3. In Standard Objects, user can’t add additional fields on the object via Data management
	4. All of the above 


